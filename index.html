<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <style>
        .form-container {
            max-width: 300px;
            margin: auto;
            padding-top: 50px;
        }
    </style>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
	
</head>
<body>

  <label>Username</label>
  <input type="text" id="username" />
  <label>Password</label>
  <input type="password" id="password"/>
  <button type="submit" onclick="doLogin()">Login</button>

  <script>
  function doLogin() {
    var username = document.getElementById("username").value;
    var password = document.getElementById("password").value;
    if(username == "" || password == "") {
      alert("Username e password sono obbligatori");
    }
    else {
      
      /*$.ajax({
          url: `https://cacciaapi.altervista.org/login.php/login`,
          type: 'POST',
          data: {
              username: username,
              password: CryptoJS.MD5(password).toString()
          },
          success: function(data) {
              
          },
          error: function() {
              alert('Errore nel login');
          }
      });*/

      //chiamiamo il server per effettuare la verifica
      fetch('https://www.cacciaapi.altervista.org/login.php/loginIpad', {
        method: 'POST', // o 'GET'
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
         "username": username,
         "password": password
        }) 
      })
      .then(response => response.json()) // converte la risposta in JSON
      .then(data => console.log(data)) // stampa i dati
      .catch((error) => {
        console.error('Errore:', error);
      });

    }
  }
  </script>
  </body>
  </html>